apiVersion: skaffold/v4beta6
kind: Config
metadata:
  name: ingress-nginx
deploy:
  helm:
    releases:
      - name: ingress-nginx-external
        repo: https://kubernetes.github.io/ingress-nginx
        remoteChart: ingress-nginx
        namespace: kube-system
        createNamespace: true
        setValues:
          controller:
            kind: DaemonSet
            ingressClassResource:
              name: ingress-nginx-external
              controllerValue: "k8s.io/ingress-nginx-external"
      - name: ingress-nginx-internal
        repo: https://kubernetes.github.io/ingress-nginx
        remoteChart: ingress-nginx
        namespace: kube-system
        createNamespace: true
        setValues:
          controller:
            kind: DaemonSet
            ingressClassResource:
              name: ingress-nginx-internal
              controllerValue: "k8s.io/ingress-nginx-internal"
